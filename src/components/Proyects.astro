---
/*Componetes utilizados*/

import TitleHeader from './TitleHeader.astro';
import SectionComponent from './SectionComponent.astro';
import DivSection from './DivSection.astro';
import SvgTag from './icons/SvgTag.astro';
import LinkButton from './LinkButton.astro';
import { getTranslations } from '../i18n';

const currentLocale = Astro.currentLocale || 'es';
const t = getTranslations(currentLocale);

/*Constantes de proyectos y etiquetas*/
const TAGS = {
  TAILWIND: {
    name: 'Tailwind CSS',
    class: 'bg-[#003159] text-white',
    tagIcon: 'tailwindcss', 
    icon: SvgTag,
  },
  ASTROICON: {
    name: 'Astro',
    class: 'bg-[#e06b27] text-white',
    tagIcon: 'astro', 
    icon: SvgTag,
  },
  Angular: {
    name: 'Angular',
    class: 'bg-red-600 text-white',
    tagIcon: 'angular', 
    icon: SvgTag, 
  },
  IONIC: {
    name: 'Ionic',
    class: 'bg-[#3880ff] text-white',
    tagIcon: 'ionic', 
    icon: SvgTag,
  },
  REACT: {
    name: 'React',
    class: 'bg-[#20232a] text-white',
    tagIcon: 'react', 
    icon: SvgTag,
  },
  TYPESCRIPT: {
    name: 'TypeScript',
    class: 'bg-[#1e3a8a] text-white',
    tagIcon: 'typescript', 
    icon: SvgTag,
  },
  NODE: {
    name: 'Node.js',
    class: 'bg-[#1a1a1a] text-white',
    tagIcon: 'node', 
    icon: SvgTag,
  },
  MONGODB: {
    name: 'MongoDB',
    class: 'bg-[#8b4513] text-white',
    tagIcon: 'mongodb', 
    icon: SvgTag,
  },
  DOCKER: {
    name: 'Docker',
    class: 'bg-[#f7fafc] text-black',
    tagIcon: 'docker', 
    icon: SvgTag,
  },

};
/*Proyectos que se muestran en la sección de proyectos */
const PROJECTS = [
  {
    title:
      currentLocale === 'es'
        ? 'ENGLISH BLOG - UN BLOG PARA APRENDER INGLÉS'
        : 'ENGLISH BLOG - A BLOG TO LEARN ENGLISH',
    description:
      currentLocale === 'es'
        ? 'Blog interactivo para aprender inglés con artículos y recursos gratuitos.'
        : 'Interactive blog to learn English with articles and free resources.',
    link: 'https://english-project-three.vercel.app/',
    github: 'https://github.com/elizonRL/english-blog',
    image: '/projects/englishblog.webp',
    tags: [TAGS.ASTROICON, TAGS.TAILWIND],
  },
  {
    title:
      currentLocale === 'es'
        ? 'Egresados UASD - App móvil para egresados de la Universidad'
        : 'UASD Graduates - Mobile app for university graduates',
    description:
      currentLocale === 'es'
        ? 'App móvil para egresados UASD. Conecta graduados, comparte habilidades y facilita oportunidades laborales.'
        : 'Mobile app for UASD graduates. Connects alumni, shares skills and facilitates job opportunities.',
    github: 'https://github.com/ericmguzmanc/egresados-uasd',
    image: '/projects/egresados.webp',
    tags: [TAGS.Angular, TAGS.IONIC],
  },
  {
    title:
      currentLocale === 'es'
        ? 'NoteMarket - web para controlar tus gastos en el supermercado'
        : 'NoteMarket - web to control your supermarket expenses',
    description:
      currentLocale === 'es'
        ? 'Aplicación web para gestionar gastos del supermercado. Organiza compras, controla presupuesto y visualiza gastos con gráficos interactivos.'
        : 'Web application to manage supermarket expenses. Organizes shopping, controls budget and visualizes expenses with interactive charts.',
    link: 'https://notemarket.elizonrodriguez.com/',
    github: 'https://github.com/elizonRL/notemarket',
    image: '/projects/notemarket.webp',
    tags: [TAGS.REACT, TAGS.TAILWIND],
  },
  {
    title: 
      currentLocale === 'es'
        ? 'Acortador de links - Acorta tus URLs fácilmente'
        : 'Link Shortener - Shorten your URLs easily',
    description:
      currentLocale === 'es'
        ? 'Aplicación web full-stack para acortar URLs largas en enlaces cortos y fáciles de compartir. Desarrollada con React y diseño responsivo, incluye sistema de autenticación, gestión de enlaces y proxy de redirección.'
        : 'Full-stack web application to shorten long URLs into short, easy-to-share links. Built with React and responsive design, it includes an authentication system, link management, and redirection proxy.',  
    link: '',
    github: 'https://github.com/elizonRL/shorlink-front',
    tags: [TAGS.REACT, TAGS.TAILWIND, TAGS.TYPESCRIPT, TAGS.NODE, TAGS.MONGODB, TAGS.DOCKER],
    image: '/projects/Shortlink.webp',
  }
];
/* * Componente principal que renderiza la sección de proyectos
 * Utiliza los componentes TitleHeader, SectionComponent, DivSection, SvgTag y LinkButton
 * Muestra una lista de proyectos con sus detalles, incluyendo imagen, título, descripción, etiquetas y enlaces a GitHub y vista previa.
 */
const { id } = Astro.props;
---

<SectionComponent id={id}>
  <DivSection>
    <TitleHeader
      titleH2={t.projects.title}
      icon='💻'
      i18nKey='projects.title'
    />

    <div class='flex flex-col gap-y-16'>
      {
        PROJECTS.map(({ image, title, description, tags, link, github }) => (
          <article class='fadeUp flex flex-col space-x-0 space-y-8 group md:flex-row md:space-x-8 md:space-y-0'>
            <div class='w-full md:w-1/2  '>
              <div class='relative flex flex-col items-center col-span-6 row-span-5 gap-8 transition duration-500 ease-in-out transform shadow-xl overflow-clip rounded-xl sm:rounded-xl md:group-hover:-translate-y-1 md:group-hover:shadow-2xl lg:border lg:border-gray-800 lg:hover:border-gray-700 lg:hover:bg-gray-800/50'>
                <img
                  alt={title}
                  class='object-cover object-top w-full h-45 transition duration-500 sm:h-4/6 md:scale-110 md:group-hover:scale-105'
                  loading='lazy'
                  src={image}
                />
              </div>
            </div>

            <div class='w-full md:w-1/2 md:max-w-lg '>
              <h3
                class='text-2xl font-bold text-gray-800 dark:text-gray-100'
                data-project-title
              >
                {title}
              </h3>
              <div class='flex flex-wrap mt-2'>
                <ul class="grid grid-cols-2 md:grid-cols-3 gap-2">
                  {tags.map((tag) => (
                    <li>
                      <span
                        class={`flex gap-x-2 justify-center items-center rounded-full text-xs ${tag.class} py-1 px-2 `}
                      >
                        <tag.icon
                          nameTag={tag.tagIcon}
                          class='size-4'
                        />
                        {tag.name}
                      </span>
                    </li>
                  ))}
                </ul>

                <div
                  class='mt-2 text-gray-700 dark:text-gray-400'
                  data-project-description
                >
                  {description}
                </div>
                <footer class='flex items-end justify-start mt-4 gap-x-4'>
                  {github && (
                    <LinkButton href={github}>
                      <SvgTag
                        nameTag='github'
                        class='size-6'
                      />
                      <span data-i18n-btn='projects.viewCode'>
                        {t.projects.viewCode}
                      </span>
                    </LinkButton>
                  )}

                  {link && (
                    <LinkButton href={link}>
                      <SvgTag
                        nameTag='link'
                        class='size-6'
                      />
                      <span data-i18n-btn='projects.viewProject'>
                        {t.projects.viewProject}
                      </span>
                    </LinkButton>
                  )}
                </footer>
              </div>
            </div>
          </article>
        ))
      }
    </div>
  </DivSection>
</SectionComponent>
