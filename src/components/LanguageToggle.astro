---
const currentLocale = Astro.currentLocale || 'es';
const toggleUrl = currentLocale === 'es' ? '/en' : '/';
---

<div class="language-toggle">
    <a 
        href={toggleUrl}
        class="flex items-center gap-1.5 px-2 py-1 rounded-full hover:bg-white/5 transition-all duration-300 cursor-pointer group"
        title={currentLocale === 'es' ? 'Switch to English' : 'Cambiar a EspaÃ±ol'}
        data-astro-history="replace"
    >
        <svg class="size-4 opacity-80 group-hover:opacity-100 transition-opacity duration-300" fill="currentColor">
            <use href={`/assets/sprite.svg#flag-${currentLocale === 'es' ? 'do' : 'us'}`} />
        </svg>
        <span class="text-xs font-light opacity-70 group-hover:opacity-100 transition-opacity duration-300">
            {currentLocale === 'es' ? 'ES' : 'EN'}
        </span>
    </a>
</div>

<style>
    .language-toggle {
        @apply flex items-center;
    }
    
    .language-toggle a:hover {
        @apply scale-105;
    }
    
    .language-toggle a:active {
        @apply scale-95;
    }
    
    .language-toggle a {
        @apply transition-all duration-300;
    }
</style>